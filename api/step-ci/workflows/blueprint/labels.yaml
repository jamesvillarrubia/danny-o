# Labels Endpoints Blueprint Tests
# 
# Tests all label-related endpoints for availability and correct response format.

version: "1.1"
name: Labels Blueprint

env:
  host: ${{ env.API_HOST }}

tests:
  list_labels:
    name: List Labels
    steps:
      - name: GET /v1/labels - 200 OK
        http:
          url: ${{ env.host }}/v1/labels
          method: GET
          timeout: ${{ env.TIMEOUT }}
          check:
            status: 200
            jsonpath:
              $.labels: isArray
              $.totalCount: isNumber

      - name: GET /v1/labels - 200 with pagination
        http:
          url: ${{ env.host }}/v1/labels?pageSize=5
          method: GET
          timeout: ${{ env.TIMEOUT }}
          check:
            status: 200
            jsonpath:
              $.labels: isArray

  get_label:
    name: Get Single Label
    steps:
      - name: GET /v1/labels/{id} - 404 Not Found
        http:
          url: ${{ env.host }}/v1/labels/nonexistent-label-id
          method: GET
          timeout: ${{ env.TIMEOUT }}
          check:
            status: 404
            jsonpath:
              $.error.status: NOT_FOUND

