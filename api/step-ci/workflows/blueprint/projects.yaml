# Projects Endpoints Blueprint Tests
# 
# Tests all project-related endpoints for availability and correct response format.

version: "1.1"
name: Projects Blueprint

env:
  host: ${{ env.API_HOST }}

tests:
  list_projects:
    name: List Projects
    steps:
      - name: GET /v1/projects - 200 OK
        http:
          url: ${{ env.host }}/v1/projects
          method: GET
          timeout: ${{ env.TIMEOUT }}
          check:
            status: 200
            jsonpath:
              $.projects: isArray
              $.totalCount: isNumber

      - name: GET /v1/projects - 200 with pagination
        http:
          url: ${{ env.host }}/v1/projects?pageSize=5
          method: GET
          timeout: ${{ env.TIMEOUT }}
          check:
            status: 200
            jsonpath:
              $.projects: isArray

  get_project:
    name: Get Single Project
    steps:
      - name: GET /v1/projects/{id} - 404 Not Found
        http:
          url: ${{ env.host }}/v1/projects/nonexistent-project-id
          method: GET
          timeout: ${{ env.TIMEOUT }}
          check:
            status: 404
            jsonpath:
              $.error.status: NOT_FOUND

